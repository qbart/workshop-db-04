   
drop table articles cascade
create table articles (
  id serial,
  category varchar not null,
  title varchar not null,
  published_at date null
)

insert into articles(title, category) values ('hello', 'ruby'),('world', 'ruby'),('hello', 'elixir')

select * from articles

drop view draft_articles 

create or replace view draft_articles as
select id, category, title from articles where published_at is null 

explain select * from articles where published_at is null 
explain select * from draft_articles


create or replace view draft_articles as
select id, category, title from articles where published_at is null order by category, title

explain select * from articles where published_at is null  order by category, title
explain select * from draft_articles


create or replace view draft_articles as
select distinct id, category, title from articles where published_at is null order by category, title

explain select distinct id, category, title from articles where published_at is null order by category, title
explain select * from draft_articles where title = 'Hello'


create or replace view draft_articles as
    select id, category, title from articles where published_at is null and category = 'ruby'
    union 
    select id, category, title from articles where published_at is null and category = 'elixir'
    
explain select * from articles where published_at is null and title = 'hello' order by category, title
explain select * from draft_articles where title = 'hello'
